IF schema_id('identity') IS NULL
    EXECUTE('CREATE SCHEMA [identity]')
CREATE TABLE [identity].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    [Description] [nvarchar](max),
    [Discriminator] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_identity.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [identity].[AspNetRoles]([Name])
CREATE TABLE [identity].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_identity.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [identity].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [identity].[AspNetUserRoles]([RoleId])
CREATE TABLE [identity].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_identity.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [identity].[AspNetUsers]([UserName])
CREATE TABLE [identity].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_identity.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [identity].[AspNetUserClaims]([UserId])
CREATE TABLE [identity].[AspNetUserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_identity.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [identity].[AspNetUserLogins]([UserId])
ALTER TABLE [identity].[AspNetUserRoles] ADD CONSTRAINT [FK_identity.AspNetUserRoles_identity.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [identity].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [identity].[AspNetUserRoles] ADD CONSTRAINT [FK_identity.AspNetUserRoles_identity.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [identity].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [identity].[AspNetUserClaims] ADD CONSTRAINT [FK_identity.AspNetUserClaims_identity.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [identity].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [identity].[AspNetUserLogins] ADD CONSTRAINT [FK_identity.AspNetUserLogins_identity.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [identity].[AspNetUsers] ([Id]) ON DELETE CASCADE
CREATE TABLE [identity].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_identity.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [identity].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201507231421086_InitialCreate', N'SciaSquash.Web.DataContexts.IdentityMigrations.Configuration',  0x1F8B0800000000000400DD5CDD6EE3B815BE2FD0771074B55B64ADFC7406D3C0D945C649DAA0931F8C33DBDE0D6889768891288F486513147DB25EF491FA0A2525EA8714295196623B8B0516B1447EE7F0F023797874CEFCEF3FFF9DFEF21C85CE134C088AF1997B3439741D88FD38407875E6A674F9D307F7979FFFF887E965103D3BBF16ED4E783BD6139333F791D2F5A9E711FF1146804C22E42731899774E2C7910782D83B3E3CFC8B7774E44106E1322CC7997E4E314511CC7EB09FB318FB704D5310DEC4010C8978CEDECC3354E7164490AC810FCFDCB98FC0FC7B0AC8E3E41F7031B90014B0EE143E53E23AE721024CA5390C97AE03308E29A04CE1D32F04CE6912E3D57CCD1E80F0E1650D59BB250809140339AD9ADB8EE9F0988FC9AB3A16507E4A681CF5043C3A1146F2D4EE1B99DA2D8DC8CC78C9CC4D5FF8A833539EB9D701CC1E7D8E43660055E0E92C4C78E333F7A614714ED6B7904E8A8E931CF22A6170BFC5C9B7491DF1C0B1EE775092EA7872C8FF3B70666948D3049E6198D2048407CE7DBA0891FF77F8F2107F83F8ECE468B13CF9F0EE3D084EDEFF199EBCAB8F948D95B5931EB047F749BC8609D30D2ECBF1BB8E27F7F3D48E65B75A9FDC2A8C4B6C7DB8CE0D78FE04F18A3EB29573FCC175AED0330C8A27825C5F3062CB8975A249CA7EDEA6610816212CDF7BAD32F9FF5BA41EBF7B3F8AD45BF08456D9D42BF2D9C249D8BAFA0CC3EC2D7944EB7C7949F3FD5534BB4AE288FF96F995BFFD3A8FD3C4E783898D4D1E40B28254D66EEA55E4B5A234871A9FD605EAFE539B6BDAA4B7B6291FD0262BA110B1EDD550E8FBBA72AD1977BE5EB3C9CBA8D54538E5D4CA8FB9890270E0C8CD2A021DD91208B381B9CE4740A090AB2E55B7D5C01790F8095AE7878ED1CAEC4F2B2B0F352AA7D920A37280B18CFA3B3E642E2380C2114E190B29CC555BA22482E5283FC68C9400F7D6F91E10C236D9E06F6C5A47A66A53D81CFA69C2683AA7205ABFBAB4FBC718C3DB345A70F66F4FD66853F3F05B7C057C1A279798F71A8CF729F6BFC529BDC40173F6E117EA1780FCE7038AEC014651E7DCF72121578CCC3098C5EC2253005E637A72DC1B8EEF51BBF6F266214091DECD5376D3AF45D3CAD5D3B768B87B86663A97AF4DD54FF10A613B558BA66655F3169DAA8A667D55E560769A8A966645B3069D7AE6AD4673A2B3191ADF8BCE60F7DF8D1E76789BF6829A19E76C87847F8518266C1B0BEE01A530C1D50CD8EC1BBB7016B2E9E3425FFD6CCA24FD0AC2746C511BAD866C13187F3564B0FBBF1A3235D9E3271470AFC4E26E593466F056EDF5D7D6EE35A768B6EDE5200D73DBC2B7B3079896CB392131BB5AF155A0892A8A9890AC3FF3E19CEE0091E1E6EADC30A2237EE4B1276C6CAE4AAA3B7C014348A173EEE751D719203E089A6664030A7A28569CA81AC5AA6093ACDC9F1A3219D361C23B017E09226CA5224C9BCB02611FAD41D86925A5A7E511C6C75ECA50DF5CC035C45C60A7256C84EB634B5C81528E32295D169A7A35C6B513D1E0B59AE6BCCB85ADE6BD119DD80A273B7C67032F85FFF62AC46CB7D816C8D96E121B058C71D25D1054DC556C09A05E5CF68DA0CA8DC94050E1526D85A0B2C5764050D9246F8EA0F915D576FE95FBEABED153BE286FFF586F35D70EB829D963CFA899FB9EFC133FEB0113C5D3BC5868AE644C3B712B23C2C15589C1BBCE219503359597ABF53EBD7610953A6D8015BD3A40C577D506506319F550AE88E0B56A277C871EB045B4AD1556ECF80A6C6DE69BD8F5EFCBB586E6AFD02A25ADEE1CE5C84A3634A86D7545A8E16808A16E59F2C02D8C628AC6360D63E301F7F1816B031393D162A00E7FD560A46230A35BA9A066B795746E581F476C909514A7C960A56230A35B4970B4DB481A57A0873330C844F2C13DD2622BE21BE51953BE9B7A79FE997830F50C896AD31BB05E23BCAA25AE8927CE3CCF5A9BFD34EF9FC515E5189E4F34C95CA5B6A5241A27600595B74C34D3F40A2584F254B905E0D19D5910359AD54E54C3A65F08AA1F9ACDA92B76FFA235FF5BECE884FF7DB7FCA125854FDAD07FD4F82202F68A0D35E20E4D1645D710A199EB2000E63E0841A209DCCFE2308DB0D9BF32F7CE3FDFD5FBE74F9A08534FD1BFE13F350CD8C7C26D86559355DE8669A584943A8CF4428BC7461EA0EC46937D43D0A4EB487888E345080336EA3D9BBA76C3EF7ADE1A7696DDE6AD1AB9785FED56567B59F3F4187BEA4A8F7FF3E9334398A6B0B8A5D5A7C0747333A31481DC3A8A29B8BBB31934B9FE83F7CAEC7AD57FD23A115E67BB14995C7500F1A827462D19A801567B678F2AE76BD531E537F6884A52561D5279D543CB7AEA95A464FDC54678068BEA5BD84B68265BD5D19B6FED913569577568CDEB0DB0353AABEFEC513599597560CD6B7BEC2A4D4BDD4D5FCBD71BE12C335EFA871F66798068D86966C0789DAD719CC3B096FD5207AA3DEE8925F25B1A60E2F95ED2CA1825194EAB3C40388C56060CF35E242590C85B516BD68B1953CA0A91B6FBB6AC18335E3FF2BE2A451AD112B54929BD8C9A28D191A9885474D7FA3542177913D729CCC888F542288C32424DE6DFC3598820DFD88B063700A3252434CF84728F0F0F3F285582FB53B1E71112849A488FA96C4F9EB32D2435E22790F88F2069A6180DA86AAB401BDF71AE71009FCFDC7F65BD4EB39020FF2B7B7CE05C932F187D4FD98B872485CEBF9B29D33DB5D214BF14CAFD1081E71FEB8036F98BCA6D77900D37AF82DB80255BAF20B3E7C0F53FBFE65D0F9CBB84ADEF53E75099F94DF828D795F5D226EF3A409B8D0BA3DEEEF297EA8DB4A8CAF2DDBCBC6881E828A5458336026DF9D020444D89D05878A398D05402B40996B1FC27603F6956FED36FB0FA72A04D5433960221DC1F4C2D04B2DF868A9EE31C8C036A45B6BE256576EE2CA4189455BDEBB3A9516F3168A1376B2A7AC00DA89BD880196FACE460B4D3515351301AF62EA9FDEA6504FB5239506577EDB660609B35022DDFB77E57A5017B90CCAA49D3DB7D01C0B6B9660A3FEF791675BF34FF3D239B48DEDC7D32FFB6C9660A4AEF39D97AA5ECEF19D776757EEE9869D647E8CE13F09B598586CF48BAC87557AA7D1EE667D7BBF20AF790BB957971B43EC1D324B1628C516AD5A443B239BD5495DE58420DE18D1616B2FB8D5A9CFFADC3166D2C641BD2B3DB14106742AB02A28D850286CCE75D540F68738F75151D1D1B5C5B9AD75BAA169046D2519CD2E5CCB6260BBCA5E280518C222D21C3A7EEB7530B308A49C65C3A3D72FF9B5FADD9A15AFB776CD9C14ED0AA82E089B118FAD2715AB6B9C6CBB838D5158D8A264AE8E6065210B0B3F63CA168097CCA5EF3E073F62F3E88C4DBCB6801836B7C97D2754AD99061B408A54818F70EDAE467050EB2CED3BBEC83281963084C4DC483F677F8638AC2A0D4FB4A132C324070B743847AF95C521EF25DBD9448B731B60412E62BBDA50718AD430646EEF01C3CC14D7463F4FB0457C07FA942832690EE8990CD3EBD4060958088088CAA3FFBC9381C44CF3FFF1F03CA100BCE590000 , N'6.1.1-30610')

