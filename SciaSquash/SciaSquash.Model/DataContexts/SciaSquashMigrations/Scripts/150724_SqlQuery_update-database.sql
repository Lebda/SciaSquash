IF schema_id('sciaSquash') IS NULL
    EXECUTE('CREATE SCHEMA [sciaSquash]')
CREATE TABLE [sciaSquash].[MatchDay] (
    [MatchDayID] [int] NOT NULL IDENTITY,
    [MatchDate] [datetime] NOT NULL,
    CONSTRAINT [PK_sciaSquash.MatchDay] PRIMARY KEY ([MatchDayID])
)
CREATE TABLE [sciaSquash].[Match] (
    [MatchID] [int] NOT NULL IDENTITY,
    [MatchDayID] [int] NOT NULL,
    [FirstPlayerID] [int] NOT NULL,
    [SecondPlayerID] [int] NOT NULL,
    [ScorePlayerFirst] [int] NOT NULL,
    [ScorePlayerSecond] [int] NOT NULL,
    CONSTRAINT [PK_sciaSquash.Match] PRIMARY KEY ([MatchID])
)
CREATE INDEX [IX_MatchDayID] ON [sciaSquash].[Match]([MatchDayID])
CREATE INDEX [IX_FirstPlayerID] ON [sciaSquash].[Match]([FirstPlayerID])
CREATE INDEX [IX_SecondPlayerID] ON [sciaSquash].[Match]([SecondPlayerID])
CREATE TABLE [sciaSquash].[Player] (
    [PlayerID] [int] NOT NULL IDENTITY,
    [FirstName] [nvarchar](256) NOT NULL,
    [LastName] [nvarchar](256) NOT NULL,
    [NickName] [nvarchar](10) NOT NULL,
    [SpecialPower] [nvarchar](256) NOT NULL,
    [ImageData] [varbinary](max),
    [ImageMimeType] [nvarchar](max),
    CONSTRAINT [PK_sciaSquash.Player] PRIMARY KEY ([PlayerID])
)
ALTER TABLE [sciaSquash].[Match] ADD CONSTRAINT [FK_sciaSquash.Match_sciaSquash.Player_FirstPlayerID] FOREIGN KEY ([FirstPlayerID]) REFERENCES [sciaSquash].[Player] ([PlayerID]) ON DELETE CASCADE
ALTER TABLE [sciaSquash].[Match] ADD CONSTRAINT [FK_sciaSquash.Match_sciaSquash.MatchDay_MatchDayID] FOREIGN KEY ([MatchDayID]) REFERENCES [sciaSquash].[MatchDay] ([MatchDayID]) ON DELETE CASCADE
ALTER TABLE [sciaSquash].[Match] ADD CONSTRAINT [FK_sciaSquash.Match_sciaSquash.Player_SecondPlayerID] FOREIGN KEY ([SecondPlayerID]) REFERENCES [sciaSquash].[Player] ([PlayerID])
CREATE TABLE [sciaSquash].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_sciaSquash.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [sciaSquash].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201507231437353_InitialCreate', N'SciaSquash.Model.DataContexts.SciaSquashMigrations.Configuration',  0x1F8B0800000000000400ED5BDB6EDC36107D2FD07F10F4D416CECA76D022357613386BBB5834BEC0B283BE05B434BB1622518A48395E14FDB23EF493FA0B1D49AB1B495D57F61A419197B5C8391CCE0C87431EE6DFBFFF99BE7BF45CED0142E6F874A61F4CF6750DA8E5DB0E5DCDF4882F5FBDD1DFBDFDFEBBE9A9ED3D6A1FB37EAFE37E2849D94CBFE73C38320C66DD8347D8C473ACD067FE924F2CDF3388ED1B87FBFBBF1A07070620848E589A36BD8E28773C48FEC03FE73EB520E01171CF7D1B5CB6F98E2D6682AA5D100F58402C98E9A6E510F34B44D8FD24E93C59D06548180F238B4721E8DAB1EB1054CB0477A96B84529F138E4A1FDD323079E8D39519E007E2DEAC03C07E4BE232D84CE6A8E8DE755EFB87F1BC8C423083B222C67DAF27E0C1EB8DA10C517C90B9F5DC9068CA5334395FC7B34ECC39D3CF09B7EE4FC85AD7C4C18EE66E187754583B4171804D32E93D4DECB397C7098653FC6F4F9B476EEC9C19858887047B5C4577AE63FD0EEB1BFF33D0198D5CB7AC2CAA8B6D950FF8E92AF40308F9FA1A96C2141627BA6654E50D11201757C8A6935D50FEFA50D72E501972E7421E1B25C398DC0FE137A010120EF615E11C4274EDC286C4BA9216EA31396443C6BF6F7025284615902EC883B34A94506102D3B56B70937676EF0469FCA74EFA5438FA2CF4BD6BDFCDA4F2964F37245C0147AD7C65B3E947A125E834358A886A8FB32D826CF7113638BC76105B1DE2B919E7CC0919BF72C91AC26DA14CB07C6A8F8465A17552A844C3D1D052257BC2D5AEC692F51A5664A597B8284B8DF9C2ABAECB728F6CE5F64A174932D8265FA8F592D24957A5CA81D2A058B59BA85CB9B546C14A1795929D935AA6C490AC96CAEE34AD156BB26F5EEBBA9AC74B6C49B4C73FB321B18CC3F254D7CEC9E307A02B7E3FD30F7FFE0503C279043BFBB251E3963A58CDA21016881D765961E80F6457235F38D6E796910FF69F626033000C4BF7CAFF1A87F7734F7BE19115605144B2A1DF3B9484EBCAD0F8533D7407E873ACB562E08699D5C20B33EB9ADBD20573CC36BBD6F67B82BA5653ED1A7D55CCB6C23112B05A4B658EEE92808F19F3312E63ADCA1B59C56AD5D99E525B6BDD56D320C82788818009D70930C5A20E33FD27C9864DA8F9940BD4CC5455D8035DCCD097F4045CE0A01D5BE961714E98456CD987681EBBFA05933A847126252E9EA3F1204C1CCAE51DC0A1961310B74D7941B0D7E611AB970F24B69C400034CEF86D4EE9A28150A3CA6AE4A309D66B33D6D428055A97F8CB6BA5E630910BA7AD234F3EBB09904905F732034FD4BD8BCFEBCFFA03E24EF4C7F60A3C5BC45572707388A82BE2AD234F9DE7DB939E88BB4500A95478E6D4A5326E1715C443F1338452BAA5A20C470908F3337076FC38B9531C646E196CCE326C53F2885111839AC085E5C174ADD8C2A57C24859602046A215AE553B3AAE4B3A014004A1613B4A81664A57EB5559BE8C82E15483E81D2DCA588E85274948072238829BC3AD9CE8628BC576705F52ED8651F1C347F69EB1351D2301C69FAD5A2B7CE04F569B96B621E640A652EDE2A16B20A3C4F17051B63A4744C46DB1835BCCDF49C04011EAB4A3CCEE68B66A624CEFC95D99FD0F0520CC3620A5E23D7361F89FB211EF884561C1A354DD64F7CCABC23F1C16E6E7B52B74A72ACC939D95062FE937D96E5A24C22FE2D2661259D35A95B59854DCF709A5EBC3925D72C8A95208B26C41A7149D870853CF7DDC8A3ED954F2B5A4C7628C0B85462A63125CC4ADA1C25634A656AD53BDD7D074FE0B9A16EEBE933A5C306796B24DF0B07B43260CBD9AD1E532C9CCAA06D455503AAC42B5470A5D641C8D9C54A0D74D6FC62D643B66B8CB91ED45B638705512758677775840C898DD2CDB314C1E9E7EE58C5557219AAF8DA1DA9B81A2E23155F7B4468E5AEB7129C9596EE88A5FBDB325CE9734FACE2C256C22B9A9E79DD481592D8251F3DAF94848A68BAA94EDA9FBB48E54ADA45D7D0580F8E9D942A6BC6C19BC41D26E61777EE3A38DFA2C339A1CE12184F09231DABA937C2239997F360C560CC763BBE5A194AE68FF65CC489ADDCCA6DF52440A4172236FEE6ED2F447ABEC6186ABC115E423CA5D944EF48971A0B6AC3E34CFF33113BD2167F7C2A24F7B4CB10D7CB91B6AFFD35CEAB89AE3A5484B75243FDE2A2AB1E55E9ED14A979AE91A832D6638D76B0BE7CFE8075311E95FE242B4362CFE90309AD7B12CA74EE96E4F868C022F7AD048ED9EF11A8EDD19496986B04BE4BC8EB1F3CF2F863194FC91F7761AB33653B203E058F9A5D813D2FBF29DC780D213006110DB5E795A76415BE49F633B93A7E6E76725761D37061F7B49CE637C761F648372D8CE5FF39E3E5B08EF2FD7B33A357248B0656313D14CF7496DF41A1CBD3ADB11FF5584F3CB60DD1919A6C60261B46D829795955BC7C25D74A4FC9A4D60B24254BC155E54D7639BD5149C75D79B00795285F8861E629FD2F314C7DCC591510F1FF19A36055724EDE6741977E9602058DB22EE2FD01706263423A0EB9B32416C7660B184BDE867E246E845D4EBD3BB017F432E241C471CAE0DDB99518895368D3F8095F5AD5797A1924EF2CC79802AAE9C4974597F47DE4B876AEF799E2545C0311E7E6CDD133F6258F8FA0AB758E74E1D38E401BF3E55BCA0D78818B60EC929AE40186E876CBE003AC88B5CEEE35EB41DA1D5135FBF4C421AB90786C8351C8E39F18C3B6F7F8F63F869141A82C390000 , N'6.1.3-40302')

